# 第二章 操作系统运行环境

## 第一节 处理器

[单选填室]处理器一般由`运算器`、`控制器`、`一系列的寄存器`以及`高速缓存`构成。其中`运算器实现指令中的算术和逻辑运算`，是计算机计算的`核心`。
在处理器内通常有两类寄存器:一类称为用户可见寄存器;第二类称为控制和状态寄存器。通常用户可见寄存器对所有程序都是可用的，由机器语言直接引用。它一般包括
数据寄存器(Data Register)、地址寄存器(Address Register)以及条件码寄存器。

[填空简答]指令执行的基本过程:
最简单的处理指令方式包括两个步骤:首先，处理器每次从存储器中读取一条指令，并在取指令完成后，根据指令类别自动将程序计数器的值变成下一条指令的地址，通常是自增1;其次，取到的指令被存储在处理器的指令寄存器中，处理器于是解释并执行这条指令。

[单选填空]指令大致可以分成五类:`访问存储器指令`，它们负责处理器和存储器之间的数据传送I/O指令，它们负责处理器和I/O模块之间的数据传送和命令发送；`算术逻辑指令`，有时又称为数据处理指令，用以执行有关数据的算术和理销操作。`控制转移指令`，这种指令可以指定一个新的指令的执行起起点;`处理器控制指令`,这种指令用于修改处理器状态改变处理器工作方式等。

[单速填空]`特权指令`和`非特权指令`:特权指令是指`在指令系统中那些只能由操作系统使用的指令`。这些指令是不允许一般的用户使用的。用产只能使用非特权指令。

[单选填空]`管态`和`目态`:多数系统将处理器工作状态划分为管态和自态。前者一般指操作系统管理程序运行的状态,具有较较高的特权级别，又称为`内核态特权态(特态)`、`系统态`;后者一般指`用户程序运行时的状态`，具有较低的特权级别，又称为`用户态`、`普通态(普态)`。

[单选填空]处理器工作状态的转换:

1. 目态到管态的转换。`其转换的唯一途径是通过中断`。中断响应时交换中断向量，新的中断向量中的PSW的处理器状态位标志为管态。
2. 管态到目态的转换。可通过`设置PSW指令(修改程序状态字)`,实现从操作系统向用户程序的转换。

## 第二节 计算机系统硬件部件

[单选填空]存储器的类型:在微型计算机中使用的半导体存储器有若干种不同的类型，但基本上可划分为两类:一种是`读写型的存储器`另一种是`只读型的存储器`。所谓读写型的存储器，是指可以把数据存入其中任一地址单元,并且可在以后的任何时候把数据读出来，或者重新存人新的数据的一种存储器。 另一种是只读型的存储器，只能从其中读取数据，但不能随意地用普通的方法向其中写人数据。通常要向其中写人数据只能用特殊的方法进行。

[填空]存储器的层次结构:计算机存储系统的设计主要考虑三个问题:`容量`、`速度`和`成本`。从整个系统来看，在计算机系统中的层次化的存储体系由`寄存器`、`高速缓存`、`内存储器`、`硬盘存储器`、`磁带机`和`光盘存储器`等装置构成。

[单选填空]I/O结构:在每台外部设备中都配有各自的I/O设备控制器，由I/O设备控制器分别控制各台外部设备的运行。
通道是独立于中央处理器的，专门负责数据1/O传输工作的处理单元。  
DMA技术，即直接存储器访问技术，通过系统总线中的一个独立控制单元---DMA控制器，自动地控制成块数据在内存和1/O单元之间的传送。  
缓冲技术是用在外部设备与其他硬件部件之间的一种数据暂存技术，它利用存储器件在外部设备中设置了数据的一个存储区城，称为`缓冲区`。

[简答]时钟部件的原理:
在电路中的晶体振荡器，每隔一定间隔产生固定的脉冲频率，时钟电路中的时钟寄存器依据时钟电路所产生的脉冲数，对时钟寄存器进行加1的工作。
时钟的用途可以分为`绝对时钟`和`相对时钟`。

## 第三节 中断机制

[单选]中断与异常的概念:`中断是指处理器对系统中或系统外发生的异步事件的响应`。异步事件是指无一定时序关系的随机发生的事件。中断是由外部事件引发的，而异
常则是由正在执行的指令引发的。

[填空.简答]中断与异常的分类:

典型的中断包括:

1. `时钟中断`,由处理器内部的计时器产生,允许操作系统以一定规律执行函数，如时间片到时、硬件实时钟到时等。
2. `输入输出(I/O)中断`，由I/O控制器产生,用于通知一个I/O操作的正常完成或者发生的错误。
3. `控制台中断`,如系统操作员通过控制台发出命令等。
4. `塑件故障中断`，由掉电存储器校验错等硬件故障引起等。

异常发生的时间以及位置具有确定性,典型的异常包括:

1. `程序性中断`，在某些条件下由指令执行结果产生,例如算术溢出被零除、目态程序试图执行非法指令访问不被允许访问的存储位置，虚拟存储中的缺页等，
2. `访管指令异常`，目的是要求操作系统提供系统服务。
[单选填空]几种典型中断的处理:`I/O中断`、`时钟中断`、`硬件故障中断`、`程序性中断`和`系统服务请求(自愿性中断)`等。

## 第四节 系统调用

[单选]系统调用:`就是用户在程序中调用操作系统所提供的一些子功能`。

[简答]系统调用的分类:

1. 进程控制类系统调用。
2. 文件操作类系统调用。
3. 进程通信类系统调用。
4. 设备管理类系统调用。
5. 信息维护类系统调用。

[简答、综合]系统调用的处理过程:

[图片]('')
